!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).UltimateI18n={})}(this,(function(t){"use strict";const e="ultimateI18n";const n="function"==typeof MutationObserver,o=document.getElementsByTagName("html")[0],i=`i18n-${o.getAttribute("lang")||"en"}`,r="i18n-lock";let u=localStorage[e]||navigator.language.split("-")[0],l=`i18n-${u}`,s="1";function c(t,e){const n=t.attributes.getNamedItem(e);if(n){const e=t.getAttribute(r);if(null===e||e!==s)return null===e&&t.setAttribute(i,t.innerText),t.setAttribute(r,s),t.innerText=n.value,!0}return!1}function f(t,e){c(t,e),function(t,e,n){!function t(o){const i=o.children.length;for(let r=0;r<i;r++){const i=o.children[r];i.hasAttribute(e)&&n(i),t(i)}}(t)}(t,e,(t=>c(t,e)))}function d(){const t=document.querySelectorAll(`[i18n-lock], [${l}]`);for(let e=0;e<t.length;e++){const n=t[e];c(n,l)||c(n,i)}}if(n){new MutationObserver((function(t){for(const e of t)if("childList"===e.type)for(let t=0;t<e.addedNodes.length;t++){const n=e.addedNodes[t];n.nodeType===Node.ELEMENT_NODE&&f(n,l)}})).observe(o,{childList:!0,subtree:!0})}t.get=function(){return u},t.isSupported=n,t.set=function(t){if(!n)throw new Error("UltimateI18n is not supported");!function(t){localStorage[e]=t}(t),u=t,l=`i18n-${t}`,s=String(parseInt(s)+1),d()},t.setup=function(){d()},Object.defineProperty(t,"__esModule",{value:!0})}));
